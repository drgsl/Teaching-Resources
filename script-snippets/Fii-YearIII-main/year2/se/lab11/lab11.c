#include <8051.h>
int main()
{
    P1 = 0b11111111;
    //char digits[4] = { 0b01111111, 0b01111111, 0b01111111, 0b01111111};
    //int i =0;
    P3_3 = 0;
    P3_4 = 0;
    while(1)
    {
        //line 1
        P0_0 = 1;
        P0_1 = 1;
        P0_2 = 1;
        P0_3 = 0;
        if(P0_4 == 0) // 3
        {
            P3_3 = 1;
            P3_4 = 1;
            P1 = 0b10110000;
        }
        if(P0_5 == 0) // 2
        {
            P3_3 = 0;
            P3_4 = 1;
            P1 = 0b10100100;
        }
        if(P0_6 == 0) // 1
        {
            P3_3 = 1;
            P3_4 = 0;
            P1 = 0b11111001;
        }

        //line 2
        P0_0 = 1;
        P0_1 = 1;
        P0_2 = 0;
        P0_3 = 1;
        if(P0_4 == 0) // 6
        {
            nextDisplay();
            P1 = 0b10000010;
        }
        if(P0_5 == 0) // 5
        {
            P1 = 0b00010010;
        }
        if(P0_6 == 0) // 4
        {
            P1 = 0b10111011;
        }

        //line 3
        P0_0 = 1;
        P0_1 = 0;
        P0_2 = 1;
        P0_3 = 1;
        if(P0_4 == 0) // 9
        {
            P1 = 0b10010000;
        }
        if(P0_5 == 0) // 8
        {
            P1 = 0b10000000;
        }
        if(P0_6 == 0) // 7
        {
            P1 = 0b11111000;
        }

        //line 4
        P0_0 = 0;
        P0_1 = 1;
        P0_2 = 1;
        P0_3 = 1;
        if(P0_4 == 0) // #
        {
            P1 = 0b10001000;
        }
        if(P0_5 == 0) // 0
        {
            P1 = 0b11000000;
        }
        if(P0_6 == 0) // *
        {
            P1 = 0b01111111;
        }
        
        // P3_3 =0;
        // P3_4 = 0;
        // P1 = digits[0];
        
        // P3_3 = 0;
        // P3_4 = 1;
        // P1 = digits[1];
        
        // P3_3 = 1;
        // P3_4 = 0;
        // P1 = digits[2];
        
        // P3_3 = 1;
        // P3_4 = 1;
        // P1 = digits[3];

}
}

void nextDisplay(){
    P3_3 = 1;
    P3_4 = 1;
}

